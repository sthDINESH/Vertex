---
sprint: 1
milestone: "Sprint 1"
issues:
  - title: "User Story: Concept Input and Tree Generation"
    labels:
      - sprint-1
      - user-story
      - must-have
      - frontend
      - ai-integration
    body: |
      ## User Story
      **As a** student struggling with a complex topic
      **I want to** enter a concept name and see its prerequisite tree
      **So that I can** understand what foundational knowledge I'm missing

      ## Acceptance Criteria
      - [ ] User can input a concept name (required field, max 100 characters)
      - [ ] User can optionally add subject context (e.g., "Computer Science")
      - [ ] User can select education level from dropdown (High School, Undergraduate, Graduate)
      - [ ] "Generate Tree" button is disabled until concept name is entered
      - [ ] Clicking "Generate Tree" sends POST request to backend API
      - [ ] Loading state displays with spinner and "Analyzing dependencies..." message
      - [ ] On success, prerequisite tree renders in hierarchical format
      - [ ] Tree shows target concept at top with branching prerequisites below
      - [ ] On error, user-friendly message displays (e.g., "Failed to generate. Try again.")
      - [ ] Tree generation completes in <5 seconds for typical concepts
      - [ ] No console errors or warnings in production build
      - [ ] Tree generates successfully for 5+ different concepts

      ## Tasks
      - [ ] Set up Vite + React project with TailwindCSS and Lucide icons
      - [ ] Create folder structure (components, services, hooks, utils)
      - [ ] Build ConceptInputForm component with validation
      - [ ] Implement useControlledInput hook for form fields
      - [ ] Create API client service (conceptMap.js)
      - [ ] Configure environment variables (.env with VITE_BACKEND_URL)
      - [ ] Build TreeView component for hierarchical display
      - [ ] Create LoadingSpinner component
      - [ ] Implement error handling UI
      - [ ] Test with 5+ different concepts
      - [ ] Cross-browser and responsive design testing

      ## Definition of Done
      - [ ] Code reviewed and merged to main
      - [ ] All acceptance criteria verified
      - [ ] Component is responsive (mobile, tablet, desktop)
      - [ ] No console errors in production build
      - [ ] Tested with 5+ concepts successfully
      - [ ] Error handling works for all failure scenarios
      - [ ] Loading states provide clear user feedback

  - title: "User Story: Education Level Selection"
    labels:
      - sprint-1
      - user-story
      - must-have
      - frontend
      - ux
    body: |
      ## User Story
      **As a** user
      **I want to** specify my education level
      **So that I can** receive prerequisite trees that match my current knowledge level

      ## Acceptance Criteria
      - [ ] Dropdown displays three options: High School, Undergraduate, Graduate
      - [ ] Default selection is "Undergraduate"
      - [ ] Selected level is sent to backend API
      - [ ] Tree depth and complexity vary by education level
      - [ ] Level badge displays on generated tree
      - [ ] Dropdown is accessible via keyboard navigation
      - [ ] Level selection persists during user session

      ## Tasks
      - [ ] Add education level dropdown to ConceptInputForm
      - [ ] Style dropdown with TailwindCSS
      - [ ] Update API client to pass level parameter
      - [ ] Add level badge to TreeView header
      - [ ] Test different education level variations
      - [ ] Test keyboard navigation

      ## Definition of Done
      - [ ] Level selector integrated into form
      - [ ] Backend receives level parameter correctly
      - [ ] AI generates different trees for different levels
      - [ ] Level badge visible and styled properly
      - [ ] Tested across all three levels with multiple concepts

  - title: "Backend Task: Express Server Setup"
    labels:
      - sprint-1
      - task
      - must-have
      - backend
    body: |
      ## Description
      Initialize Node.js + Express server with proper project structure, middleware configuration, and CORS setup

      ## Requirements
      - [ ] Express server runs on port 3001 locally
      - [ ] Basic GET /health endpoint returns 200 OK
      - [ ] CORS enabled for frontend domain
      - [ ] Error handling middleware configured
      - [ ] Request logging configured
      - [ ] Rate limiting implemented (max 10 requests/min per IP)
      - [ ] Environment variables configured (.env)
      - [ ] Proper folder structure (routes, services, middleware, config)

      ## Tasks
      - [ ] Initialize Node.js project with npm
      - [ ] Install Express and dependencies
      - [ ] Create project folder structure
      - [ ] Set up .env file with PORT and other config
      - [ ] Configure CORS middleware
      - [ ] Implement error handling middleware
      - [ ] Add request logging (Morgan)
      - [ ] Add rate limiting middleware
      - [ ] Create health check endpoint
      - [ ] Test server locally

      ## Definition of Done
      - [ ] Server starts without errors
      - [ ] Health endpoint responds correctly
      - [ ] Middleware functions properly configured
      - [ ] Rate limiting prevents abuse
      - [ ] CORS allows frontend requests

  - title: "Backend Task: Gemini API Integration"
    labels:
      - sprint-1
      - task
      - must-have
      - backend
      - ai-integration
    body: |
      ## Description
      Integrate Google Gemini API securely on backend with prompt engineering for prerequisite tree generation

      ## Requirements
      - [ ] POST /api/trees/generate endpoint created
      - [ ] API key stored in .env (never exposed to frontend)
      - [ ] Accepts: { concept, subject?, level } as JSON body
      - [ ] Calls Gemini 1.5 Flash with prerequisite mapping prompt
      - [ ] Returns valid prerequisite tree JSON
      - [ ] Handles API timeouts and errors gracefully
      - [ ] Input validation before API call
      - [ ] Response validation before returning to frontend

      ## Tasks
      - [ ] Create Gemini service module (services/geminiService.js)
      - [ ] Design prompt template for tree generation
      - [ ] Implement generateTree() function
      - [ ] Add input validation
      - [ ] Implement JSON parsing and validation
      - [ ] Handle API timeouts with retry logic (max 2 retries)
      - [ ] Add error handling for API failures
      - [ ] Test with 5+ different concepts
      - [ ] Verify API key is not exposed

      ## Definition of Done
      - [ ] Endpoint accepts correct request format
      - [ ] Gemini API called successfully
      - [ ] Valid JSON tree returned for all test concepts
      - [ ] Error responses are user-friendly
      - [ ] API key secure in environment variables
      - [ ] Rate limiting prevents abuse

  - title: "Backend Task: JSON Response Validation"
    labels:
      - sprint-1
      - task
      - must-have
      - backend
    body: |
      ## Description
      Parse and validate Gemini API JSON responses before sending to frontend

      ## Requirements
      - [ ] Strips markdown code blocks from response
      - [ ] Validates JSON structure matches expected tree schema
      - [ ] Handles malformed JSON responses gracefully
      - [ ] Returns 422 status for invalid responses
      - [ ] Logs parsing errors for debugging
      - [ ] Provides helpful error messages to frontend

      ## Tasks
      - [ ] Create JSON parser utility
      - [ ] Implement schema validation
      - [ ] Add error handling for malformed JSON
      - [ ] Create validation tests
      - [ ] Test with various response formats
      - [ ] Document expected tree schema

      ## Definition of Done
      - [ ] Parses all valid Gemini responses
      - [ ] Rejects invalid responses with proper errors
      - [ ] Error messages helpful for debugging
      - [ ] Schema validation working correctly

  - title: "Frontend Task: Deploy to Vercel"
    labels:
      - sprint-1
      - task
      - must-have
      - deployment
      - devops
    body: |
      ## Description
      Deploy React frontend to Vercel with continuous integration from GitHub

      ## Requirements
      - [ ] Vercel project connected to GitHub repository
      - [ ] Environment variables configured (VITE_BACKEND_URL)
      - [ ] Production build succeeds without errors
      - [ ] App accessible at public URL
      - [ ] Tree generation works in production
      - [ ] Automatic deployments on push to main
      - [ ] Preview deployments for pull requests

      ## Tasks
      - [ ] Sign up/log in to Vercel
      - [ ] Connect GitHub account to Vercel
      - [ ] Import repository from GitHub
      - [ ] Configure project build settings
      - [ ] Set environment variables on Vercel
      - [ ] Deploy initial version
      - [ ] Verify production deployment works
      - [ ] Test all features in production
      - [ ] Document deployment process in README
      - [ ] Add public URL to README

      ## Definition of Done
      - [ ] Frontend deployed and publicly accessible
      - [ ] All Sprint 1 features work in production
      - [ ] Environment variables configured correctly
      - [ ] Auto-deployment on Git push enabled
      - [ ] README updated with deployment URL

  - title: "Backend Task: Deploy to Render"
    labels:
      - sprint-1
      - task
      - must-have
      - deployment
      - devops
    body: |
      ## Description
      Deploy Express backend to Render with environment variables and automatic deployment

      ## Requirements
      - [ ] Render project connected to GitHub repository
      - [ ] Environment variables configured (GEMINI_API_KEY, PORT)
      - [ ] Production build/start succeeds
      - [ ] API accessible at public URL
      - [ ] Automatic deployments on push to main
      - [ ] Health endpoint responds correctly
      - [ ] Logs visible in Render dashboard
      - [ ] CORS configured for Vercel frontend domain

      ## Tasks
      - [ ] Create Render account
      - [ ] Connect GitHub account to Render
      - [ ] Create new Web Service from repository
      - [ ] Configure build command and start script
      - [ ] Set environment variables on Render
      - [ ] Deploy initial version
      - [ ] Verify production API accessible
      - [ ] Test API from Vercel frontend
      - [ ] Configure CORS for Vercel domain
      - [ ] Document deployment process in README
      - [ ] Add public API URL to README

      ## Definition of Done
      - [ ] Backend deployed and publicly accessible
      - [ ] API responds correctly to requests
      - [ ] Environment variables configured securely
      - [ ] Frontend can communicate with backend
      - [ ] Logs accessible in Render dashboard
      - [ ] README updated with deployment URL

  - title: "Testing: Manual Testing Checklist"
    labels:
      - sprint-1
      - testing
      - must-have
      - qa
    body: |
      ## Testing Task
      Comprehensive manual testing of all Sprint 1 features across browsers and devices

      ## Test Scenarios

      ### Concept Input Form
      - [ ] Happy path: input concept, generate tree successfully
      - [ ] Test validation: empty concept (button disabled)
      - [ ] Test 101+ characters (truncated or error)
      - [ ] Test special characters
      - [ ] Test subject field (optional)
      - [ ] Test education level dropdown
      - [ ] Test "Clear" button resets form
      - [ ] Test keyboard navigation

      ### Tree Visualization
      - [ ] Tree displays correct structure
      - [ ] Target concept at top
      - [ ] Prerequisites hierarchical below
      - [ ] All node data visible (name, description, level)
      - [ ] Tree scrollable on small screens
      - [ ] Responsive layout on mobile (375px)
      - [ ] Responsive layout on tablet (768px)
      - [ ] Responsive layout on desktop (1920px)

      ### API Integration
      - [ ] Form submission sends correct data
      - [ ] Backend returns valid tree JSON
      - [ ] Frontend correctly parses response
      - [ ] Data flows: Frontend → Backend → Gemini → Backend → Frontend

      ### Loading States
      - [ ] Spinner shows during API call
      - [ ] Progress text displays
      - [ ] Form disabled while loading
      - [ ] Loading <5 seconds for typical concepts

      ### Error Handling
      - [ ] Network errors handled gracefully
      - [ ] API errors show friendly message
      - [ ] "Try Again" button retries request
      - [ ] Console shows no errors in DevTools

      ### Cross-Browser Testing
      - [ ] Chrome (latest)
      - [ ] Firefox (latest)
      - [ ] Safari (latest)
      - [ ] Edge (latest)

      ### Performance
      - [ ] Lighthouse score >90 (Desktop)
      - [ ] Lighthouse score >80 (Mobile)
      - [ ] No console warnings
      - [ ] No memory leaks

      ### Security
      - [ ] No API keys visible in frontend
      - [ ] No API keys in network requests
      - [ ] CORS properly configured
      - [ ] Rate limiting prevents spam

      ## Bug Reporting
      - [ ] Document any bugs found with steps to reproduce
      - [ ] Create GitHub issues with `bug` label
      - [ ] Include screenshots or console errors

      ## Definition of Done
      - [ ] All test scenarios completed
      - [ ] Critical bugs fixed
      - [ ] Test results documented
      - [ ] No blocking issues for release
      - [ ] Performance metrics meet targets
      - [ ] Ready for production deployment